"use strict";(self.webpackChunkfitness_tracker=self.webpackChunkfitness_tracker||[]).push([[422],{4422:(it,T,r)=>{r.r(T),r.d(T,{TrainingModule:()=>nt});var S=r(4466),h=r(9291),t=r(5e3),p=r(1090),m=r(9808),_=r(3251),y=r(5188),c=r(7093),l=r(3075),u=r(9224),x=r(7322),b=r(4107),A=r(508),C=r(773),f=r(7423);function N(n,i){if(1&n&&(t.TgZ(0,"mat-option",9),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Y(n,i){if(1&n&&(t.TgZ(0,"mat-form-field")(1,"mat-select",7),t.YNc(2,N,2,2,"mat-option",8),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.exercises)}}function O(n,i){1&n&&t._UZ(0,"mat-spinner")}function U(n,i){if(1&n&&(t.TgZ(0,"button",12),t._uU(1,"start"),t.qZA()),2&n){t.oxw(2);const e=t.MAs(2);t.Q6J("disabled",e.invalid)}}function w(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).fetchExercises()}),t._uU(1,"Fetch Again"),t.qZA()}}function J(n,i){if(1&n&&(t.TgZ(0,"mat-card-actions",4),t.YNc(1,U,2,1,"button",10),t.YNc(2,w,2,0,"button",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.exercises),t.xp6(1),t.Q6J("ngIf",!e.exercises)}}let Q=(()=>{class n{constructor(e,a){this.trainingService=e,this.uiService=a}ngOnInit(){this.loadingSubscription=this.uiService.loadingStateChanged.subscribe(e=>{this.isLoading=e}),this.exerciseSubscription=this.trainingService.exercisesChanged.subscribe(e=>{this.exercises=e}),this.fetchExercises()}fetchExercises(){this.trainingService.fetchAvailableExercises()}onStartTraining(e){this.trainingService.startExercise(e.value.exercise)}ngOnDestroy(){this.exerciseSubscription&&this.exerciseSubscription.unsubscribe(),this.loadingSubscription&&this.loadingSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.O),t.Y36(y.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-training"]],decls:10,vars:3,consts:[["fxLayout","","fxLayoutAlign","center",1,"new-training"],[3,"ngSubmit"],["f","ngForm"],["fxFlex.xs","100%","fxFlex","400px"],["fxLayoutAlign","center"],[4,"ngIf"],["fxLayoutAlign","center",4,"ngIf"],["placeholder","Choose Exercise","ngModel","","name","exercise","required",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","primary","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","type","button",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","type","button",3,"click"]],template:function(e,a){if(1&e){const s=t.EpF();t.TgZ(0,"section",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(s);const et=t.MAs(2);return a.onStartTraining(et)}),t.TgZ(3,"mat-card",3)(4,"mat-card-title",4),t._uU(5," Time to start working out!!\n"),t.qZA(),t.TgZ(6,"mat-card-content",4),t.YNc(7,Y,3,1,"mat-form-field",5),t.YNc(8,O,1,0,"mat-spinner",5),t.qZA(),t.YNc(9,J,3,2,"mat-card-actions",6),t.qZA()()()}2&e&&(t.xp6(7),t.Q6J("ngIf",!a.isLoading&&a.exercises),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading))},directives:[c.xw,c.Wh,l._Y,l.JL,l.F,u.a8,c.yH,u.n5,u.dn,m.O5,x.KE,b.gD,l.JJ,l.On,l.Q7,m.sg,A.ey,C.Ou,u.hq,f.lW],styles:[".new-training[_ngcontent-%COMP%]{padding:30px}"]}),n})();var Z=r(9062),d=r(4847),o=r(4999),D=r(7531);function I(n,i){1&n&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Date"),t.qZA())}function P(n,i){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.date))}}function F(n,i){1&n&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Name"),t.qZA())}function E(n,i){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function L(n,i){1&n&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Calories"),t.qZA())}function M(n,i){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.calories))}}function R(n,i){1&n&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Duration"),t.qZA())}function q(n,i){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.duration))}}function B(n,i){1&n&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"State"),t.qZA())}function H(n,i){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.state)}}function W(n,i){1&n&&t._UZ(0,"mat-header-row")}function z(n,i){1&n&&t._UZ(0,"mat-row")}const X=function(){return[5,10,20]};let j=(()=>{class n{constructor(e){this.trainingService=e,this.displayedColumns=["date","name","duration","calories","state"],this.dataSource=new o.by}ngOnInit(){this.exChangedSubscription=this.trainingService.finishedExercisesChanged.subscribe(e=>{this.dataSource.data=e}),this.trainingService.fetchCompletedOrCancelledExercises()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}doFilter(e){this.dataSource.filter=e.trim().toLocaleLowerCase()}ngOnDestroy(){this.exChangedSubscription&&this.exChangedSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-past-trainings"]],viewQuery:function(e,a){if(1&e&&(t.Gf(d.YE,5),t.Gf(Z.NW,5)),2&e){let s;t.iGM(s=t.CRH())&&(a.sort=s.first),t.iGM(s=t.CRH())&&(a.paginator=s.first)}},decls:22,vars:6,consts:[["fxLayoutAlign","center center"],["fxFlex","40%"],["matInput","","type","text","placeholder","Filter",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-sort-header",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"input",2),t.NdJ("keyup",function(v){return a.doFilter(v.target.value)}),t.qZA()()(),t.TgZ(3,"mat-table",3),t.ynx(4,4),t.YNc(5,I,2,0,"mat-header-cell",5),t.YNc(6,P,3,3,"mat-cell",6),t.BQk(),t.ynx(7,7),t.YNc(8,F,2,0,"mat-header-cell",5),t.YNc(9,E,2,1,"mat-cell",6),t.BQk(),t.ynx(10,8),t.YNc(11,L,2,0,"mat-header-cell",5),t.YNc(12,M,3,3,"mat-cell",6),t.BQk(),t.ynx(13,9),t.YNc(14,R,2,0,"mat-header-cell",5),t.YNc(15,q,3,3,"mat-cell",6),t.BQk(),t.ynx(16,10),t.YNc(17,B,2,0,"mat-header-cell",5),t.YNc(18,H,2,1,"mat-cell",6),t.BQk(),t.YNc(19,W,1,0,"mat-header-row",11),t.YNc(20,z,1,0,"mat-row",12),t.qZA(),t._UZ(21,"mat-paginator",13)),2&e&&(t.xp6(3),t.Q6J("dataSource",a.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(5,X)))},directives:[c.Wh,x.KE,c.yH,D.Nt,o.BZ,d.YE,o.w1,o.fO,o.ge,d.nU,o.Dz,o.ev,o.as,o.XQ,o.nj,o.Gk,Z.NW],pipes:[m.uU,m.JJ],styles:[""]}),n})();var g=r(8966);let $=(()=>{class n{constructor(e){this.passedData=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-stop-training"]],decls:10,vars:3,consts:[["mat-dialogue-title",""],["mat-raised-button","",3,"mat-dialog-close"]],template:function(e,a){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Are you sure ?"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"mat-dialog-actions")(6,"button",1),t._uU(7,"Yes"),t.qZA(),t.TgZ(8,"button",1),t._uU(9,"No"),t.qZA()()),2&e&&(t.xp6(4),t.hij("You already got ",a.passedData.progress,"%"),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(2),t.Q6J("mat-dialog-close",!1))},directives:[g.xY,g.H8,f.lW,g.ZT],encapsulation:2}),n})(),G=(()=>{class n{constructor(e,a){this.dialog=e,this.trainingService=a,this.progress=0}ngOnInit(){this.startOrResumeTimer()}startOrResumeTimer(){const e=this.trainingService.getRunningExercise().duration/100*1e3;this.timer=setInterval(()=>{this.progress=this.progress+5,this.progress>=100&&(this.trainingService.completeExercise(),clearInterval(this.timer))},e)}onStop(){clearInterval(this.timer),this.dialog.open($,{data:{progress:this.progress}}).afterClosed().subscribe(a=>{a?this.trainingService.cancelExercise(this.progress):this.startOrResumeTimer()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.uw),t.Y36(p.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-current-training"]],decls:8,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"current-training"],["mode","determinate",3,"value"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0),t._UZ(1,"mat-progress-spinner",1),t.TgZ(2,"h1"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5,"Keep going, you can do it"),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return a.onStop()}),t._uU(7,"Stop"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("value",a.progress),t.xp6(2),t.hij("",a.progress," %"))},directives:[c.xw,c.Wh,C.Ou,f.lW],styles:[".current-training[_ngcontent-%COMP%]{padding:30px}"]}),n})();function K(n,i){1&n&&(t.TgZ(0,"mat-tab-group")(1,"mat-tab",1),t._UZ(2,"app-new-training"),t.qZA(),t.TgZ(3,"mat-tab",2),t._UZ(4,"app-past-trainings"),t.qZA()())}function k(n,i){1&n&&t._UZ(0,"app-current-training")}const V=[{path:"",component:(()=>{class n{constructor(e){this.trainingService=e,this.ongoingTraining=!1}ngOnInit(){this.exerciseSubscription=this.trainingService.exerciseChanged.subscribe(e=>{this.ongoingTraining=!!e})}ngOnDestroy(){this.exerciseSubscription&&this.exerciseSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-training"]],decls:2,vars:2,consts:[[4,"ngIf"],["label","New Exercise"],["label","Past Exercises"]],template:function(e,a){1&e&&(t.YNc(0,K,5,0,"mat-tab-group",0),t.YNc(1,k,1,0,"app-current-training",0)),2&e&&(t.Q6J("ngIf",!a.ongoingTraining),t.xp6(1),t.Q6J("ngIf",a.ongoingTraining))},directives:[m.O5,_.SP,_.uX,Q,j,G],styles:[""]}),n})()}];let tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.Bz.forChild(V)],h.Bz]}),n})(),nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[S.p,tt]]}),n})()}}]);